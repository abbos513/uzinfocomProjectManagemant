<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signUp</title>
    <link rel="stylesheet" href="../static/bootstrap/css/bootstrap.min.css" th:href="@{/bootstrap/css/bootstrap.min.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/Footer-Clean.css" th:href="@{/css/Footer-Clean.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/Navigation-with-Button.css" th:href="@{/css/Navigation-with-Button.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/Registration-Form-with-Photo.css" th:href="@{/css/Registration-Form-with-Photo.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/styles.css" th:href="@{/css/styles.css}" type="text/css">

    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body style="padding:0;margin:0;">
    <div>
        <nav class="navbar navbar-dark navbar-expand-md bg-success navigation-clean-button" style="background-color:#66d7d7;">
            <div class="container"><a class="navbar-brand" href="#">Company Name</a><button class="navbar-toggler" data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse"
                    id="navcol-1">
                    <ul class="nav navbar-nav mr-auto"></ul><span class="navbar-text actions"> <a href="#" class="login">Log In</a><a class="btn btn-light action-button" role="button" href="#">Sign Up</a></span></div>
            </div>
        </nav>
    </div>
    <div style="min-height:1000px;background-color:rgba(0,0,0,0.1);padding-top:17px;/*float:right;*/width:100%;margin-right:auto;margin-left:auto;/*padding:auto;*//*position:absolute;*/">
        <div style="margin:0px;min-height:1000px;background-color:#f7f9fc;padding:0px;width:90%;align-items:center;margin-left:26px;align:center;float:initial;margin-left:auto;margin-right:auto;float:center;">
            <div style="height:77px;width:100%;border-bottom:1px solid;padding-top:20px;">
                <div style="height:70px;width:5%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;height:40px;">Id</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 style="text-align:center;font-size:20px;">Project owner</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;">Agreement</h1>
                </div>
                <div style="height:70px;width:20%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;">Outsource company</h1>
                </div>
                <div style="height:70px;width:15%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;height:44px;">Date of registration</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;">Project Manager</h1>
                </div>
            </div>
            <div style="height:77px;width:100%;border-bottom:1px solid;padding-top:20px;">
                <div style="height:40px;width:5%;float:left;">
                    <!--<input id="projectOwner" style="width: 100%">-->
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <input id="projectOwner" style="width: 100%">
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <form action="/get/upload" method="post" enctype="multipart/form-data">
                        <input type="file" value="Upload" name="file">
                        <input type="submit" value="Save File">
                    </form>
                </div>
                <div style="height:70px;width:20%;float:left;">
                    <input id="outsourceCompany" style="width: 100%">
                </div>
                <div style="height:70px;width:15%;float:left;">
                    <input type="date" readonly="readonly" th:value="${currentDate}" style="width: 100%">
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <select id="projectManager">
                        <th:block th:each="projectManager : ${projectManagers}">
                            <option th:value="${projectManager.getId()}" th:text="${projectManager.getFullName()}"></option>
                        </th:block>
                    </select>
                    <button id="save">Save</button>
                </div>
            </div>

            <div th:each="project : ${projects}" style="height:77px;width:100%;border-bottom:1px solid;padding-top:20px;">
                <div style="height:40px;width:5%;float:left;">
                    <h1 th:text="${project.getId()}" style="text-align:center;margin:auto;font-size:20px;">Id</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 th:text="${project.getProjectOwner()}" style="text-align:center;font-size:20px;">Project owner</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 th:text="${project.getProjectOwner()}" style="text-align:center;margin:auto;font-size:20px;">Agreement</h1>
                </div>
                <div style="height:70px;width:20%;float:left;">
                    <h1 th:text="${project.getOutsourceCompany()}" style="text-align:center;margin:auto;font-size:20px;">Outsource company</h1>
                </div>
                <div style="height:70px;width:15%;float:left;">
                    <h1 th:text="${project.getDateOfRegistration()}" style="text-align:center;margin:auto;font-size:20px;height:44px;">Date of registration</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 th:text="${project.getProjectManagerFullName()}" style="text-align:center;margin:auto;font-size:20px;">Project Manager</h1>
                </div>

            </div>
            <div th:each="file : ${files}">

            </div>

        </div>
    </div>
    <div class="footer-clean" style="color:#fff;background-color:#28a745;"></div>
    <script src="../static/js/jquery.min.js" th:src="@{/js/jquery.min.js}" type="text/javascript"></script>
    <!--<script src="../static/bootstrap/js/bootstrap.min.js" th:href="@{/bootstrap/js/bootstrap.min.js}" type="text/javascript"></script>-->
    <script>
        $(function () {
            $("#save").click(function () {
                var modelObj = {
                    ownerCompany: $("#projectOwner").val(),
                    outsourceCompany: $("#outsourceCompany").val(),
                    userId: $("#projectManager").val()
                };

                console.log(modelObj);

                $.ajax({
                    type: "POST",
                    url: "/rest/addPro",
                    headers: {
                        "Content-Type": "application/json",
                        "Accept": "application/json"
                    },
                    data: JSON.stringify(modelObj),
                    success: function (data) {
                        window.location.reload();
                    }
                });
            });
        });

    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signUp</title>
    <link rel="stylesheet" href="../static/bootstrap/css/bootstrap.min.css" th:href="@{/bootstrap/css/bootstrap.min.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/Footer-Clean.css" th:href="@{/css/Footer-Clean.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/Navigation-with-Button.css" th:href="@{/css/Navigation-with-Button.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/Registration-Form-with-Photo.css" th:href="@{/css/Registration-Form-with-Photo.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/styles.css" th:href="@{/css/styles.css}" type="text/css">

    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>

<body style="padding:0;margin:0;">
    <div>
        <nav class="navbar navbar-dark navbar-expand-md bg-success navigation-clean-button" style="background-color:#66d7d7;">
            <div class="container"><a class="navbar-brand" href="#">Company Name</a><button class="navbar-toggler" data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse"
                    id="navcol-1">
                    <ul class="nav navbar-nav mr-auto"></ul><span class="navbar-text actions"> <a href="#" class="login">Log In</a><a class="btn btn-light action-button" role="button" href="#">Sign Up</a></span></div>
            </div>
        </nav>
    </div>
    <div style="min-height:1000px;background-color:rgba(0,0,0,0.1);padding-top:17px;/*float:right;*/width:100%;margin-right:auto;margin-left:auto;/*padding:auto;*//*position:absolute;*/">
        <div style="margin:0px;min-height:1000px;background-color:#f7f9fc;padding:0px;width:90%;align-items:center;margin-left:26px;align:center;float:initial;margin-left:auto;margin-right:auto;float:center;">
            <div style="height:77px;width:100%;border-bottom:1px solid;padding-top:20px;">
                <div style="height:70px;width:5%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;height:40px;">Id</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 style="text-align:center;font-size:20px;">First Name</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;">Last Name</h1>
                </div>
                <div style="height:70px;width:20%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;">Login</h1>
                </div>
                <div style="height:70px;width:15%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;height:44px;">Password</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;">Role</h1>
                </div>
            </div>
            <div th:each="user : ${allUsers}" style="height:77px;width:100%;border-bottom:1px solid;padding-top:20px;">
                <div style="height:40px;width:5%;float:left;">
                    <h1 th:text="${user.getId()}" style="text-align:center;margin:auto;font-size:20px;">Id</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 th:text="${user.getFirstName()}" style="text-align:center;font-size:20px;">Project owner</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 th:text="${user.getLastName()}" style="text-align:center;margin:auto;font-size:20px;"></h1>
                </div>
                <div style="height:70px;width:20%;float:left;">
                    <h1 th:text="${user.getUsername()}" style="text-align:center;margin:auto;font-size:20px;"> </h1>
                </div>
                <div style="height:70px;width:15%;float:left;">
                    <h1 th:text="${user.getPassword()}" style="text-align:center;margin:auto;font-size:20px;height:44px;"></h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <h1 th:text="${user.getRole()}" style="text-align:center;margin:auto;font-size:20px;"></h1>
                </div>
            </div>
            <div style="height:77px;width:100%;border-bottom:1px solid;padding-top:20px;">
                <div style="height:40px;width:5%;float:left;">
                    <h1 style="text-align:center;margin:auto;font-size:20px;">New</h1>
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <input id="fName" style="width: 100%">
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <input id="lName" style="width: 100%">
                </div>
                <div style="height:70px;width:20%;float:left;">
                    <input id="username" style="width: 100%">
                </div>
                <div style="height:70px;width:15%;float:left;">
                    <input id="password" style="width: 100%">
                </div>
                <div style="height:40px;width:20%;float:left;">
                    <select id="role" style="float: left;">
                        <option value="Registrar">Registrar</option>
                        <option value="PM">Project Manager</option>
                    </select>
                    <button id="save" style="float: left;">Save</button>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-clean" style="color:#fff;background-color:#28a745;"></div>
    <script src="../static/js/jquery.min.js" th:src="@{/js/jquery.min.js}" type="text/javascript"></script>
    <!--<script src="../static/bootstrap/js/bootstrap.min.js" th:href="@{/bootstrap/js/bootstrap.min.js}" type="text/javascript"></script>-->
    <script type="text/javascript" th:inline="javascript">
        $(function () {
            $("#save").click(function () {
                var modelObj = {
                    firstName: $("#fName").val(),
                    lastName: $("#lName").val(),
                    username: $("#username").val(),
                    password: $("#password").val(),
                    role: $("#role").val()
                };

                console.log(modelObj);

                $.ajax({
                    type: "POST",
                    url: "/rest/addUser",
                    headers: {
                        "Content-Type": "application/json",
                        "Accept": "application/json"
                    },
                    data: JSON.stringify(modelObj),
                    success: function (data) {
                        window.location.reload();
                    }
                });
            });
        });
    </script>
</body>

</html>